# AI Powered Todo App - E2E テストシナリオ

## 前提条件

- アプリケーションがローカル環境で正常に起動していること
- ブラウザが開けること
- ローカルストレージがクリアされていること（テスト開始前）

---

## テストシナリオ 1: 初期状態の確認

### 目的

アプリケーションの初期状態が正しく表示されることを確認

### 手順

1. ブラウザでアプリケーションを開く
2. ページが正常に読み込まれることを確認
3. ヘッダーに「AI-Powered Todo App」が表示されることを確認
4. 3 つのビュータブ（List View、Gantt View、Ai View）が表示されることを確認
5. デフォルトで「List View」が選択されていることを確認
6. 初期タスクが表示されることを確認（INITIAL_TASKS_YAML から）

### 期待結果

- ページが正常に読み込まれる
- すべての UI 要素が正しく表示される
- 初期タスクが正しく表示される

---

## テストシナリオ 2: 新しいタスクの追加

### 目的

新しいタスクを追加できることを確認

### 手順

1. List View にいることを確認
2. 「✨ Add New Task」ボタンをクリック
3. モーダルが開くことを確認
4. 以下の情報を入力：
   - Task Name: "E2E テストタスク"
   - Description: "テスト用のタスクです"
   - Status: "Not Started"
   - Priority: "Medium"
   - Start Date: 今日の日付
   - End Date: 明日の日付
5. 「Add Task」ボタンをクリック
6. モーダルが閉じることを確認
7. タスクリストに新しいタスクが追加されることを確認

### 期待結果

- モーダルが正しく開く
- 入力フィールドが正常に動作する
- 新しいタスクがリストに追加される

---

## テストシナリオ 3: タスクの編集

### 目的

既存のタスクを編集できることを確認

### 手順

1. 既存のタスクの「Edit」ボタンをクリック
2. 編集モーダルが開くことを確認
3. 既存の値が正しく表示されることを確認
4. 以下を変更：
   - Task Name: "編集されたタスク"
   - Status: "In Progress"
   - Priority: "High"
5. 「Save Changes」ボタンをクリック
6. モーダルが閉じることを確認
7. タスクリストで変更が反映されることを確認

### 期待結果

- 既存のデータが正しく表示される
- 変更が正しく保存される
- UI に変更が反映される

---

## テストシナリオ 4: タスクの削除

### 目的

タスクを削除できることを確認

### 手順

1. 削除対象のタスクの「Delete」ボタンをクリック
2. 確認ダイアログが表示されることを確認
3. 「OK」をクリック
4. タスクがリストから削除されることを確認

### 期待結果

- 確認ダイアログが表示される
- タスクが正しく削除される

---

## テストシナリオ 5: タスクの依存関係設定

### 目的

タスク間の依存関係を設定できることを確認

### 手順

1. 「Add New Task」をクリック
2. 以下の情報で最初のタスクを作成：
   - Task Name: "親タスク"
   - Start Date: 今日
   - End Date: 3 日後
3. 「Add Task」をクリック
4. 再度「Add New Task」をクリック
5. 以下の情報で 2 番目のタスクを作成：
   - Task Name: "子タスク"
   - Start Date: 4 日後
   - End Date: 6 日後
   - Dependencies: 「親タスク」を選択
6. 「Add Task」をクリック
7. 両方のタスクがリストに表示されることを確認
8. 子タスクの依存関係に「親タスク」が表示されることを確認

### 期待結果

- 依存関係の選択機能が正常に動作する
- 依存関係が正しく表示される

---

## テストシナリオ 6: Gantt チャート表示

### 目的

Gantt チャートが正しく表示されることを確認

### 手順

1. 「Gantt View」タブをクリック
2. Gantt チャートが表示されることを確認
3. タスクバーが正しく表示されることを確認
4. 日付ヘッダーが表示されることを確認
5. タスク名が左側に表示されることを確認
6. 依存関係がある場合、矢印線が表示されることを確認
7. タスクバーをクリックして編集モーダルが開くことを確認

### 期待結果

- Gantt チャートが正しく描画される
- タスクバーと依存線が正しく表示される
- タスクバーから編集機能が動作する

---

## テストシナリオ 7: Gantt チャートの表示モード切り替え

### 目的

Gantt チャートの表示モード（Day/Week/Month）が正しく動作することを確認

### 手順

1. Gantt View にいることを確認
2. 「Week」ボタンをクリック
3. 週単位の表示に切り替わることを確認
4. 「Month」ボタンをクリック
5. 月単位の表示に切り替わることを確認
6. 「Day」ボタンをクリック
7. 日単位の表示に戻ることを確認

### 期待結果

- 各表示モードが正しく動作する
- 日付ヘッダーが適切に変更される
- タスクバーの幅が適切に調整される

---

## テストシナリオ 8: Gantt チャートの行の高さ調整

### 目的

Gantt チャートの行の高さを調整できることを確認

### 手順

1. Gantt View にいることを確認
2. 「Row Height」入力フィールドを確認
3. 値を 60 に変更
4. 行の高さが変更されることを確認
5. 値を 20 に変更
6. 行の高さが変更されることを確認

### 期待結果

- 行の高さが入力値に応じて変更される
- 最小値（20）が適用される

---

## テストシナリオ 9: Gantt チャートのラベル幅調整

### 目的

Gantt チャートのタスク名ラベル幅を調整できることを確認

### 手順

1. Gantt View にいることを確認
2. タスク名列とチャート列の境界にある灰色のハンドルを見つける
3. ハンドルをドラッグして右に移動
4. ラベル幅が広がることを確認
5. ハンドルをドラッグして左に移動
6. ラベル幅が狭くなることを確認

### 期待結果

- ドラッグ操作でラベル幅を調整できる
- 最小幅と最大幅の制限が適用される

---

## テストシナリオ 10: ビュー間の切り替え

### 目的

List View と Gantt View 間の切り替えが正しく動作することを確認

### 手順

1. List View でタスクを確認
2. 「Gantt View」をクリック
3. 同じタスクが Gantt チャートで表示されることを確認
4. 「List View」をクリック
5. リスト表示に戻ることを確認
6. データが保持されていることを確認

### 期待結果

- ビュー切り替えが正常に動作する
- データが各ビューで一貫して表示される

---

## テストシナリオ 11: データの永続化

### 目的

ローカルストレージにデータが保存されることを確認

### 手順

1. 新しいタスクを追加
2. ブラウザを更新
3. 追加したタスクが残っていることを確認
4. タスクを編集
5. ブラウザを更新
6. 編集内容が保持されていることを確認

### 期待結果

- データがローカルストレージに保存される
- ページ更新後もデータが保持される

---

## テストシナリオ 12: エラーハンドリング

### 目的

不正な入力に対するエラーハンドリングが正しく動作することを確認

### 手順

1. 「Add New Task」をクリック
2. Task Name を空にして「Add Task」をクリック
3. エラーメッセージが表示されることを確認
4. Start Date を End Date より後の日付に設定
5. 「Add Task」をクリック
6. エラーメッセージが表示されることを確認

### 期待結果

- 適切なバリデーションエラーが表示される
- 不正なデータが保存されない

---

## テストシナリオ 13: レスポンシブデザイン

### 目的

様々な画面サイズで正しく表示されることを確認

### 手順

1. ブラウザウィンドウを最大化
2. すべての要素が正しく表示されることを確認
3. ブラウザウィンドウを縮小（タブレットサイズ）
4. レイアウトが適切に調整されることを確認
5. ブラウザウィンドウをさらに縮小（モバイルサイズ）
6. モバイル向けレイアウトが適用されることを確認

### 期待結果

- 各画面サイズで適切なレイアウトが表示される
- UI 要素が重複したり切れたりしない

---

## テストシナリオ 14: タスクのステータス変更

### 目的

タスクのステータス変更が正しく反映されることを確認

### 手順

1. タスクを「Not Started」で作成
2. そのタスクを編集
3. ステータスを「In Progress」に変更
4. 保存
5. List View でステータスが更新されていることを確認
6. Gantt View でタスクバーの表示が変更されていることを確認
7. 再度編集してステータスを「Completed」に変更
8. 保存
9. 両ビューで完了状態が表示されることを確認

### 期待結果

- ステータス変更が正しく保存される
- 各ビューでステータスが適切に表示される
- 完了タスクは視覚的に区別される

---

## 実行時の注意事項

1. 各テストシナリオの前にローカルストレージをクリアすることを推奨
2. ブラウザの開発者ツールでコンソールエラーをチェック
3. 異なるブラウザ（Chrome、Firefox、Safari）でテストを実行
4. モバイルデバイスでの実機テストも実施
5. ネットワーク遅延をシミュレートしてテスト（開発者ツールの Network タブ）
